{
    "type": [
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        3,
        3,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2
    ],
    "data": [
        "\n[19] NA                                                                                                                                                                                                       \n[20] NA                                                                                                                                                                                                       \n[21] NA                                                                                                                                                                                                       ",
        "\n[22] NA                                                                                                                                                                                                       \n[23] NA                                                                                                                                                                                                       \n[24] NA                                                                                                                                                                                                       ",
        "\n[25] NA                                                                                                                                                                                                       \n[26] NA                                                                                                                                                                                                       \n[27] NA                                                                                                                                                                                                       ",
        "\n[28] NA                                                                                                                                                                                                       \n[29] NA                                                                                                                                                                                                       \n[30] NA                                                                                                                                                                                                       ",
        "\n[31] NA                                                                                                                                                                                                       \n[32] NA                                                                                                                                                                                                       \n",
        "> ",
        "review_index <- rep(1:length(num_topic_reviews), times = num_topic_reviews)",
        "> ",
        "review_index",
        " [1] 2 2 2 2 3 4 4 4 5 5 5 5 5 8 8 8 8\n",
        "> ",
        "review_index <- rep(1:length(num_topic_reviews), times = num_topic_reviews)",
        "> ",
        "homework_comments <- rep(NA, times = length(review_date))",
        "> ",
        "homework_comments[review_index[topic_labels == \"Homework\"]] <- topic_comments[which(topic_labels == \"Homework\")]",
        "> ",
        "homework_comments",
        " [1] NA                                                                                                                                                                                                       \n [2] \"Homework has been very stressful for our son.  It is totally unnecessary to place children under stress when the education they are receiving in the school itself is far above any other curriculum.\"  \n [3] NA                                                                                                                                                                                                       ",
        "\n [4] \"The school is good in the academic sense of the word, but the school has terrible policies when it comes to social\"                                                                                     \n [5] \"It's unfortunate that the school has an overall policy for all classrooms instead of allowing teachers to use their knowledge of pedagogy and their students in order to make that decision themselves.\"\n [6] NA                                                                                                                                                                                                       ",
        "\n [7] NA                                                                                                                                                                                                       \n [8] \"Our child is not challenged sufficiently.  With another child in a different middle school, it is easy to see the deficiencies at Crane.\"                                                               \n [9] NA                                                                                                                                                                                                       ",
        "\n[10] NA                                                                                                                                                                                                       \n[11] NA                                                                                                                                                                                                       \n[12] NA                                                                                                                                                                                                       ",
        "\n[13] NA                                                                                                                                                                                                       \n[14] NA                                                                                                                                                                                                       \n[15] NA                                                                                                                                                                                                       ",
        "\n[16] NA                                                                                                                                                                                                       \n[17] NA                                                                                                                                                                                                       \n[18] NA                                                                                                                                                                                                       ",
        "\n[19] NA                                                                                                                                                                                                       \n[20] NA                                                                                                                                                                                                       \n[21] NA                                                                                                                                                                                                       ",
        "\n[22] NA                                                                                                                                                                                                       \n[23] NA                                                                                                                                                                                                       \n[24] NA                                                                                                                                                                                                       ",
        "\n[25] NA                                                                                                                                                                                                       \n[26] NA                                                                                                                                                                                                       \n[27] NA                                                                                                                                                                                                       ",
        "\n[28] NA                                                                                                                                                                                                       \n[29] NA                                                                                                                                                                                                       \n[30] NA                                                                                                                                                                                                       ",
        "\n[31] NA                                                                                                                                                                                                       \n[32] NA                                                                                                                                                                                                       \n",
        "> ",
        "vector(length(length(num_topic_reviews)))",
        "Error in vector(length(length(num_topic_reviews))) : \n  vector: cannot make a vector of mode '1'.\n",
        "> ",
        "vector(length(num_topic_reviews))",
        "Error in vector(length(num_topic_reviews)) : \n  vector: cannot make a vector of mode '32'.\n",
        "> ",
        "vector(mode = \"any\", length(num_topic_reviews))",
        "Error in vector(mode = \"any\", length(num_topic_reviews)) : \n  vector: cannot make a vector of mode 'any'.\n",
        "> ",
        "vector(NA, length(num_topic_reviews))",
        "Error in vector(NA, length(num_topic_reviews)) : \n  vector: cannot make a vector of mode 'NA'.\n",
        "> ",
        "fn_extract_topic_comments <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index[topic_labels == !!my_topic]] <- topic_comments[which(topic_labels == !!my_topic)]",
        "+ ",
        "}",
        "> ",
        "homework_comments <- fn_extract_topic_comments(\"Homework\")",
        "Error in !my_topic : invalid argument type\n",
        "> ",
        "fn_extract_topic_comments <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index[topic_labels == my_topic]] <- topic_comments[which(topic_labels == my_topic)]",
        "+ ",
        "}",
        "> ",
        "homework_comments <- fn_extract_topic_comments(\"Homework\")",
        "> ",
        "homework_comments",
        "[1] \"Homework has been very stressful for our son.  It is totally unnecessary to place children under stress when the education they are receiving in the school itself is far above any other curriculum.\"  \n[2] \"The school is good in the academic sense of the word, but the school has terrible policies when it comes to social\"                                                                                     \n[3] \"It's unfortunate that the school has an overall policy for all classrooms instead of allowing teachers to use their knowledge of pedagogy and their students in order to make that decision themselves.\"",
        "\n[4] \"Our child is not challenged sufficiently.  With another child in a different middle school, it is easy to see the deficiencies at Crane.\"                                                               \n",
        "> ",
        "  return(tmp)",
        "Error: object 'tmp' not found\n",
        "> ",
        "fn_extract_topic_comments <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index[topic_labels == my_topic]] <- topic_comments[which(topic_labels == my_topic)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "homework_comments <- fn_extract_topic_comments(\"Homework\")",
        "> ",
        "homework_comments",
        " [1] NA                                                                                                                                                                                                       \n [2] \"Homework has been very stressful for our son.  It is totally unnecessary to place children under stress when the education they are receiving in the school itself is far above any other curriculum.\"  \n [3] NA                                                                                                                                                                                                       ",
        "\n [4] \"The school is good in the academic sense of the word, but the school has terrible policies when it comes to social\"                                                                                     \n [5] \"It's unfortunate that the school has an overall policy for all classrooms instead of allowing teachers to use their knowledge of pedagogy and their students in order to make that decision themselves.\"\n [6] NA                                                                                                                                                                                                       ",
        "\n [7] NA                                                                                                                                                                                                       \n [8] \"Our child is not challenged sufficiently.  With another child in a different middle school, it is easy to see the deficiencies at Crane.\"                                                               \n [9] NA                                                                                                                                                                                                       ",
        "\n[10] NA                                                                                                                                                                                                       \n[11] NA                                                                                                                                                                                                       \n[12] NA                                                                                                                                                                                                       ",
        "\n[13] NA                                                                                                                                                                                                       \n[14] NA                                                                                                                                                                                                       \n[15] NA                                                                                                                                                                                                       ",
        "\n[16] NA                                                                                                                                                                                                       \n[17] NA                                                                                                                                                                                                       \n[18] NA                                                                                                                                                                                                       ",
        "\n[19] NA                                                                                                                                                                                                       \n[20] NA                                                                                                                                                                                                       \n[21] NA                                                                                                                                                                                                       ",
        "\n[22] NA                                                                                                                                                                                                       \n[23] NA                                                                                                                                                                                                       \n[24] NA                                                                                                                                                                                                       ",
        "\n[25] NA                                                                                                                                                                                                       \n[26] NA                                                                                                                                                                                                       \n[27] NA                                                                                                                                                                                                       ",
        "\n[28] NA                                                                                                                                                                                                       \n[29] NA                                                                                                                                                                                                       \n[30] NA                                                                                                                                                                                                       ",
        "\n[31] NA                                                                                                                                                                                                       \n[32] NA                                                                                                                                                                                                       \n",
        "> ",
        "leadership_comments <- fn_extract_topic_comments(\"Leadership\")",
        "> ",
        "leadership_comments",
        " [1] NA                                                                                                                                                                                                                                      \n [2] \"Joel is warm, understanding and ALWAYS interested in our family's wellbeing.\"                                                                                                                                                          \n [3] NA                                                                                                                                                                                                                                      ",
        "\n [4] NA                                                                                                                                                                                                                                      \n [5] \"Leadership seems much more interested in money than valuing their employees or the integrity and autonomy the classroom needs.\"                                                                                                        \n [6] NA                                                                                                                                                                                                                                      ",
        "\n [7] NA                                                                                                                                                                                                                                      \n [8] \"With experience over the years with at least 15 heads of school, Crane's head is by far the weakest.  The school is behind in most areas; technology, skills.  If it wasn't for the high net worth base, this school would be nowhere.\"\n [9] NA                                                                                                                                                                                                                                      ",
        "\n[10] NA                                                                                                                                                                                                                                      \n[11] NA                                                                                                                                                                                                                                      \n[12] NA                                                                                                                                                                                                                                      ",
        "\n[13] NA                                                                                                                                                                                                                                      \n[14] NA                                                                                                                                                                                                                                      \n[15] NA                                                                                                                                                                                                                                      ",
        "\n[16] NA                                                                                                                                                                                                                                      \n[17] NA                                                                                                                                                                                                                                      \n[18] NA                                                                                                                                                                                                                                      ",
        "\n[19] NA                                                                                                                                                                                                                                      \n[20] NA                                                                                                                                                                                                                                      \n[21] NA                                                                                                                                                                                                                                      ",
        "\n[22] NA                                                                                                                                                                                                                                      \n[23] NA                                                                                                                                                                                                                                      \n[24] NA                                                                                                                                                                                                                                      ",
        "\n[25] NA                                                                                                                                                                                                                                      \n[26] NA                                                                                                                                                                                                                                      \n[27] NA                                                                                                                                                                                                                                      ",
        "\n[28] NA                                                                                                                                                                                                                                      \n[29] NA                                                                                                                                                                                                                                      \n[30] NA                                                                                                                                                                                                                                      ",
        "\n[31] NA                                                                                                                                                                                                                                      \n[32] NA                                                                                                                                                                                                                                      \n",
        "> ",
        "homework_comments <- fn_extract_topic_comments(\"Homework\")",
        "> ",
        "teacher_comments <- fn_extract_topic_comments(\"Teachers\")",
        "> ",
        "character_comments <- fn_extract_topic_comments(\"Character\")",
        "> ",
        "leadership_comments <- fn_extract_topic_comments(\"Leadership\")",
        "> ",
        "learning_diffs_comments <- fn_extract_topic_comments(\"Learning Differences\")",
        "> ",
        "learning_diffs_comments",
        " [1] NA                                                                                            \n [2] NA                                                                                            \n [3] NA                                                                                            \n [4] NA                                                                                            \n [5] \"Students with learning differences have an extremely hard time thriving in this environment.\"\n [6] NA                                                                                            ",
        "\n [7] NA                                                                                            \n [8] NA                                                                                            \n [9] NA                                                                                            \n[10] NA                                                                                            \n[11] NA                                                                                            \n[12] NA                                                                                            ",
        "\n[13] NA                                                                                            \n[14] NA                                                                                            \n[15] NA                                                                                            \n[16] NA                                                                                            \n[17] NA                                                                                            \n[18] NA                                                                                            ",
        "\n[19] NA                                                                                            \n[20] NA                                                                                            \n[21] NA                                                                                            \n[22] NA                                                                                            \n[23] NA                                                                                            \n[24] NA                                                                                            ",
        "\n[25] NA                                                                                            \n[26] NA                                                                                            \n[27] NA                                                                                            \n[28] NA                                                                                            \n[29] NA                                                                                            \n[30] NA                                                                                            ",
        "\n[31] NA                                                                                            \n[32] NA                                                                                            \n",
        "> ",
        "leadership_comments",
        " [1] NA                                                                                                                                                                                                                                      \n [2] \"Joel is warm, understanding and ALWAYS interested in our family's wellbeing.\"                                                                                                                                                          \n [3] NA                                                                                                                                                                                                                                      ",
        "\n [4] NA                                                                                                                                                                                                                                      \n [5] \"Leadership seems much more interested in money than valuing their employees or the integrity and autonomy the classroom needs.\"                                                                                                        \n [6] NA                                                                                                                                                                                                                                      ",
        "\n [7] NA                                                                                                                                                                                                                                      \n [8] \"With experience over the years with at least 15 heads of school, Crane's head is by far the weakest.  The school is behind in most areas; technology, skills.  If it wasn't for the high net worth base, this school would be nowhere.\"\n [9] NA                                                                                                                                                                                                                                      ",
        "\n[10] NA                                                                                                                                                                                                                                      \n[11] NA                                                                                                                                                                                                                                      \n[12] NA                                                                                                                                                                                                                                      ",
        "\n[13] NA                                                                                                                                                                                                                                      \n[14] NA                                                                                                                                                                                                                                      \n[15] NA                                                                                                                                                                                                                                      ",
        "\n[16] NA                                                                                                                                                                                                                                      \n[17] NA                                                                                                                                                                                                                                      \n[18] NA                                                                                                                                                                                                                                      ",
        "\n[19] NA                                                                                                                                                                                                                                      \n[20] NA                                                                                                                                                                                                                                      \n[21] NA                                                                                                                                                                                                                                      ",
        "\n[22] NA                                                                                                                                                                                                                                      \n[23] NA                                                                                                                                                                                                                                      \n[24] NA                                                                                                                                                                                                                                      ",
        "\n[25] NA                                                                                                                                                                                                                                      \n[26] NA                                                                                                                                                                                                                                      \n[27] NA                                                                                                                                                                                                                                      ",
        "\n[28] NA                                                                                                                                                                                                                                      \n[29] NA                                                                                                                                                                                                                                      \n[30] NA                                                                                                                                                                                                                                      ",
        "\n[31] NA                                                                                                                                                                                                                                      \n[32] NA                                                                                                                                                                                                                                      \n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-individual individual-review\")",
        "{xml_nodeset (0)}\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-individual\")",
        "{xml_nodeset (0)}\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-review\")",
        "{xml_nodeset (15)}\n [1] <div class=\"topical-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<di ...\n [2] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [3] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [4] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...",
        "\n [5] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [6] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [7] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [8] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...",
        "\n [9] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[10] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[11] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[12] <div class=\"topical-review individual-review\"><div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric ...",
        "\n[13] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[14] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[15] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n",
        "> ",
        "  html_elements(\"div.topical-review individual-review\")",
        "Error in UseMethod(\"xml_find_all\") : \n  no applicable method for 'xml_find_all' applied to an object of class \"character\"\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-review individual-review\")",
        "{xml_nodeset (0)}\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.'topical-review individual-review'\")",
        "Error in stream$next_ident() : \n  Expected ident, got <STRING 'topical-review individual-review' at 5>\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements('div.\"topical-review individual-review\"')",
        "Error in stream$next_ident() : \n  Expected ident, got <STRING 'topical-review individual-review' at 5>\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements('div.\"topical-review individual-review\"') ",
        "Error in stream$next_ident() : \n  Expected ident, got <STRING 'topical-review individual-review' at 5>\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.'topical-review individual-review'\") ",
        "Error in stream$next_ident() : \n  Expected ident, got <STRING 'topical-review individual-review' at 5>\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-review individual-review\") ",
        "{xml_nodeset (0)}\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-review\") ",
        "{xml_nodeset (15)}\n [1] <div class=\"topical-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<di ...\n [2] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [3] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [4] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...",
        "\n [5] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [6] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [7] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n [8] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...",
        "\n [9] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[10] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[11] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[12] <div class=\"topical-review individual-review\"><div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric ...",
        "\n[13] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[14] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n[15] <div class=\"topical-review individual-review\">\\n<div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numer ...\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-average\") ",
        "{xml_nodeset (76)}\n [1] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [2] <div class=\"topical-average\">\\n<div class=\"numeric\">4.2</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [3] <div class=\"topical-average\">\\n<div class=\"numeric\">3.8</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [4] <div class=\"topical-average\">\\n<div class=\"numeric\">3.6</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n [5] <div class=\"topical-average\">\\n<div class=\"numeric\">4.3</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [6] <div class=\"topical-average\">\\n<div class=\"numeric\">4.5</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [7] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [8] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n [9] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[10] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[11] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[12] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n[13] <div class=\"topical-average\">\\n<div class=\"numeric\">1.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[14] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[15] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[16] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n[17] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[18] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[19] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[20] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n...\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-average\") %>%",
        "+ ",
        "  html_elements(\"div.topical-details\") %>%",
        "+ ",
        "  html_text() -> topic_rating_label",
        "> ",
        "topic_rating_label",
        "character(0)\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-average\") %>%",
        "+ ",
        "  html_element(\"div.topic-details\") %>%",
        "+ ",
        "  html_text() -> topic_rating_label",
        "> ",
        "topic_rating_label",
        " [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n[43] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\")",
        "{xml_nodeset (76)}\n [1] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n [2] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.2</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n [3] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">3.8</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n [4] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">3.6</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...",
        "\n [5] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.3</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n [6] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.5</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n [7] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n [8] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...",
        "\n [9] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[10] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[11] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[12] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...",
        "\n[13] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">1.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[14] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[15] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[16] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...",
        "\n[17] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[18] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[19] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...\n[20] <div class=\"topical-item\">\\n<div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"h ...",
        "\n...\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topic-details\") %>%",
        "+ ",
        "  html_text() -> topic_rating_label",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topic-details\"') -> num_topic_ratings",
        "> ",
        "num_topic_ratings",
        " [1] 6 6 6 6 6 0 6 6 6 6 6 0 0 0 1 3 3 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n",
        "> ",
        "sum(num_topic_ratings)",
        "[1] 70\n",
        "> ",
        "length(num_topic_ratings)",
        "[1] 32\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topic-item\"') -> num_topic_ratings",
        "> ",
        "num_topic_ratings",
        " [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topical-item\"') -> num_topic_ratings",
        "> ",
        "num_topic_ratings",
        " [1] 6 6 6 6 6 0 6 6 6 6 6 0 0 0 1 3 3 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n",
        "> ",
        "sum(num_topic_ratings)",
        "[1] 70\n",
        "> ",
        "review_index_ratings <- rep(1:length(num_topic_reviews), times = num_topic_ratings)",
        "> ",
        "review_index_ratings",
        " [1]  1  1  1  1  1  1  2  2  2  2  2  2  3  3  3  3  3  3  4  4  4  4  4  4  5  5  5  5  5  5  7  7  7  7  7  7  8  8  8  8  8  8\n[43]  9  9  9  9  9  9 10 10 10 10 10 10 11 11 11 11 11 11 15 16 16 16 17 17 17 18 18 18\n",
        "> ",
        "fn_extract_topic_comments <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[topic_labels == my_topic]] <- topic_rating_label[which(topic_rating_label == my_topic)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[topic_labels == my_topic]] <- topic_rating_label[which(topic_rating_label == my_topic)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "fn_extract_topic_rating(\"Homework\")",
        " [1] \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" NA         \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\"\n[12] NA         NA         NA         NA         NA         \"Homework\" \"Homework\" NA         NA         NA         NA        \n[23] NA         NA         NA         NA         NA         NA         NA         NA         NA         NA        \n",
        "Warning message:\n",
        "In tmp[review_index_ratings[topic_labels == my_topic]] <- topic_rating_label[which(topic_rating_label ==  :",
        "\n ",
        " number of items to replace is not a multiple of replacement length\n",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[topic_rating_label == my_topic]] <- topic_rating_label[which(topic_rating_label == my_topic)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "fn_extract_topic_rating(\"Homework\")",
        "Error in tmp[review_index_ratings[topic_rating_label == my_topic]] <- topic_rating_label[which(topic_rating_label ==  : \n  NAs are not allowed in subscripted assignments\n",
        "> ",
        "review_index_ratings",
        " [1]  1  1  1  1  1  1  2  2  2  2  2  2  3  3  3  3  3  3  4  4  4  4  4  4  5  5  5  5  5  5  7  7  7  7  7  7  8  8  8  8  8  8\n[43]  9  9  9  9  9  9 10 10 10 10 10 10 11 11 11 11 11 11 15 16 16 16 17 17 17 18 18 18\n",
        "> ",
        "  my_topic <- \"Homework\"",
        "> ",
        "  tmp <- rep(NA, times = length(review_date))",
        "> ",
        "tmp",
        " [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "review_index_ratings[topic_rating_label == my_topic]",
        " [1]  2  3  4  5  7  8  9 10 11 15 18 NA NA\n",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "?grep",
        "> ",
        "grep(\"Homework\", topic_rating_label)",
        " [1]  3  7 13 19 25 31 37 43 49 55 61 69 72 75\n",
        "> ",
        "review_index_ratings",
        " [1]  1  1  1  1  1  1  2  2  2  2  2  2  3  3  3  3  3  3  4  4  4  4  4  4  5  5  5  5  5  5  7  7  7  7  7  7  8  8  8  8  8  8\n[43]  9  9  9  9  9  9 10 10 10 10 10 10 11 11 11 11 11 11 15 16 16 16 17 17 17 18 18 18\n",
        "> ",
        "review_index_ratings[topic_rating_label == my_topic]",
        " [1]  2  3  4  5  7  8  9 10 11 15 18 NA NA\n",
        "> ",
        "review_index_ratings",
        " [1]  1  1  1  1  1  1  2  2  2  2  2  2  3  3  3  3  3  3  4  4  4  4  4  4  5  5  5  5  5  5  7  7  7  7  7  7  8  8  8  8  8  8\n[43]  9  9  9  9  9  9 10 10 10 10 10 10 11 11 11 11 11 11 15 16 16 16 17 17 17 18 18 18\n",
        "> ",
        "grep(\"Homework\", topic_rating_label)",
        " [1]  3  7 13 19 25 31 37 43 49 55 61 69 72 75\n",
        "> ",
        "review_index_ratings",
        " [1]  1  1  1  1  1  1  2  2  2  2  2  2  3  3  3  3  3  3  4  4  4  4  4  4  5  5  5  5  5  5  7  7  7  7  7  7  8  8  8  8  8  8\n[43]  9  9  9  9  9  9 10 10 10 10 10 10 11 11 11 11 11 11 15 16 16 16 17 17 17 18 18 18\n",
        "> ",
        "  my_topic <- \"Homework\"",
        "> ",
        "  tmp <- rep(NA, times = length(review_date))",
        "> ",
        "  tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating_label[grep(\"Homework\", topic_rating_label)]",
        "Error in tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating_label[grep(\"Homework\",  : \n  NAs are not allowed in subscripted assignments\n",
        "> ",
        "tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]]",
        " [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "review_index_ratings[grep(\"Homework\", topic_rating_label)]",
        " [1]  1  2  3  4  5  7  8  9 10 11 15 18 NA NA\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topic-details\") %>%",
        "+ ",
        "  html_text() -> topic_rating_label",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[13] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[17] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[21] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[25] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[29] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[33] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 ",
        "\n[37] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[41] \"Learning Differences\"      \"Bullying\"                  \"Homework\"                  \"Teachers\"                 \n[45] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[49] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[53] \"Learning Differences\"      \"Bullying\"                 ",
        " \"Homework\"                  \"Teachers\"                 \n[57] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n[61] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Leadership\"               \n[65] \"Learning Differences\"      \"Bullying\"                  \"Character\"                 \"Character\"                \n[69] \"Homework\"                  \"Teachers\"                  \"Character\"                 \"Homework\"                 ",
        "\n[73] \"Teachers\"                  \"Character\"                 \"Homework\"                  \"Teachers\"                 \n",
        "> ",
        "grep(\"(\", topic_rating_label)",
        "Error in grep(\"(\", topic_rating_label) : \n  invalid regular expression '(', reason 'Missing ')''\n",
        "> ",
        "grep(\"\\(\", topic_rating_label)",
        "Error: '\\(' is an unrecognized escape in character string starting \"\"\\(\"\n",
        "> ",
        "grep(\"\\\\(\", topic_rating_label)",
        "[1] 1 2 3 4 5 6\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topic-details\") %>%",
        "+ ",
        "  html_text() %>%",
        "+ ",
        "  grep(\"\\\\(\")",
        "integer(0)\n",
        "Warning message:\n",
        "In grep(., \"\\\\(\") :",
        "\n ",
        " argument 'pattern' has length > 1 and only the first element will be used\n",
        "> ",
        "topic_rating_label <- setdiff(topic_rating_label, grep(\"\\\\(\", topic_rating_label))",
        "> ",
        "topic_rating_label",
        " [1] \"Bullying (10)\"             \"Character (14)\"            \"Homework (13)\"             \"Leadership (10)\"          \n [5] \"Learning Differences (10)\" \"Teachers (13)\"             \"Homework\"                  \"Teachers\"                 \n [9] \"Character\"                 \"Leadership\"                \"Learning Differences\"      \"Bullying\"                 \n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topic-details\") %>%",
        "+ ",
        "  html_text() -> topic_rating_label",
        "> ",
        "topic_rating_label[-grep(\"\\\\(\", topic_rating_label)]",
        " [1] \"Homework\"             \"Teachers\"             \"Character\"            \"Leadership\"           \"Learning Differences\"\n [6] \"Bullying\"             \"Homework\"             \"Teachers\"             \"Character\"            \"Leadership\"          \n[11] \"Learning Differences\" \"Bullying\"             \"Homework\"             \"Teachers\"             \"Character\"           \n[16] \"Leadership\"           \"Learning Differences\" \"Bullying\"             \"Homework\"             \"Teachers\"            \n[21] \"Character\"            \"Leadership\"          ",
        " \"Learning Differences\" \"Bullying\"             \"Homework\"            \n[26] \"Teachers\"             \"Character\"            \"Leadership\"           \"Learning Differences\" \"Bullying\"            \n[31] \"Homework\"             \"Teachers\"             \"Character\"            \"Leadership\"           \"Learning Differences\"\n[36] \"Bullying\"             \"Homework\"             \"Teachers\"             \"Character\"            \"Leadership\"          \n[41] \"Learning Differences\" \"Bullying\"             \"Homework\"             \"Teachers\"            ",
        " \"Character\"           \n[46] \"Leadership\"           \"Learning Differences\" \"Bullying\"             \"Homework\"             \"Teachers\"            \n[51] \"Character\"            \"Leadership\"           \"Learning Differences\" \"Bullying\"             \"Homework\"            \n[56] \"Teachers\"             \"Character\"            \"Leadership\"           \"Learning Differences\" \"Bullying\"            \n[61] \"Character\"            \"Character\"            \"Homework\"             \"Teachers\"             \"Character\"           \n[66] \"Homework\"            ",
        " \"Teachers\"             \"Character\"            \"Homework\"             \"Teachers\"            \n",
        "> ",
        "topic_rating_label <- topic_rating_label[-grep(\"\\\\(\", topic_rating_label)]",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topical-item\"') -> num_topic_ratings",
        "> ",
        "review_index_ratings <- rep(1:length(num_topic_reviews), times = num_topic_ratings)",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  my_topic <- \"Homework\"",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating_label[grep(\"Homework\", topic_rating_label)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "fn_extract_topic_rating(\"Homework\")",
        " [1] \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" NA         \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\"\n[12] NA         NA         NA         NA         \"Homework\" \"Homework\" \"Homework\" NA         NA         NA         NA        \n[23] NA         NA         NA         NA         NA         NA         NA         NA         NA         NA        \n",
        "> ",
        "  my_topic <- \"Homework\"",
        "> ",
        "  tmp <- rep(NA, times = length(review_date))",
        "> ",
        "grep(\"Homework\", topic_rating_label)",
        " [1]  1  7 13 19 25 31 37 43 49 55 63 66 69\n",
        "> ",
        "review_index_ratings[grep(\"Homework\", topic_rating_label)]",
        " [1]  1  2  3  4  5  7  8  9 10 11 16 17 18\n",
        "> ",
        "tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]]",
        " [1] NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "topic_rating_label[grep(\"Homework\", topic_rating_label)]",
        " [1] \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\"\n[12] \"Homework\" \"Homework\"\n",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  my_topic <- \"Homework\"",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating_label[grep(\"Homework\", topic_rating_label)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "fn_extract_topic_rating(\"Homework\")",
        " [1] \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\" NA         \"Homework\" \"Homework\" \"Homework\" \"Homework\" \"Homework\"\n[12] NA         NA         NA         NA         \"Homework\" \"Homework\" \"Homework\" NA         NA         NA         NA        \n[23] NA         NA         NA         NA         NA         NA         NA         NA         NA         NA        \n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topical-average\")",
        "{xml_nodeset (76)}\n [1] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [2] <div class=\"topical-average\">\\n<div class=\"numeric\">4.2</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [3] <div class=\"topical-average\">\\n<div class=\"numeric\">3.8</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [4] <div class=\"topical-average\">\\n<div class=\"numeric\">3.6</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n [5] <div class=\"topical-average\">\\n<div class=\"numeric\">4.3</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [6] <div class=\"topical-average\">\\n<div class=\"numeric\">4.5</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [7] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n [8] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n [9] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[10] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[11] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[12] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n[13] <div class=\"topical-average\">\\n<div class=\"numeric\">1.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[14] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[15] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[16] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n[17] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[18] <div class=\"topical-average\">\\n<div class=\"numeric\">4.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[19] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...\n[20] <div class=\"topical-average\">\\n<div class=\"numeric\">5.0</div>\\n<div class=\"dots\">\\n<svg xmlns=\"http://www.w3.org/2000/svg\" w ...",
        "\n...\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topical-average\") %>%",
        "+ ",
        "  html_element(\"div.numeric\")",
        "{xml_nodeset (76)}\n [1] <div class=\"numeric\">4.0</div>\\n\n [2] <div class=\"numeric\">4.2</div>\\n\n [3] <div class=\"numeric\">3.8</div>\\n\n [4] <div class=\"numeric\">3.6</div>\\n\n [5] <div class=\"numeric\">4.3</div>\\n\n [6] <div class=\"numeric\">4.5</div>\\n\n [7] <div class=\"numeric\">5.0</div>\\n\n [8] <div class=\"numeric\">5.0</div>\\n\n [9] <div class=\"numeric\">5.0</div>\\n\n[10] <div class=\"numeric\">5.0</div>\\n\n[11] <div class=\"numeric\">5.0</div>\\n\n[12] <div class=\"numeric\">5.0</div>\\n\n[13] <div class=\"numeric\">1.0</div>\\n",
        "\n[14] <div class=\"numeric\">4.0</div>\\n\n[15] <div class=\"numeric\">4.0</div>\\n\n[16] <div class=\"numeric\">4.0</div>\\n\n[17] <div class=\"numeric\">5.0</div>\\n\n[18] <div class=\"numeric\">4.0</div>\\n\n[19] <div class=\"numeric\">5.0</div>\\n\n[20] <div class=\"numeric\">5.0</div>\\n\n...\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topical-average\") %>%",
        "+ ",
        "  html_element(\"div.numeric\") %>%",
        "+ ",
        "  html_text() -> topic_rating",
        "> ",
        "topic_rating",
        " [1] \"4.0\" \"4.2\" \"3.8\" \"3.6\" \"4.3\" \"4.5\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"1.0\" \"4.0\" \"4.0\" \"4.0\" \"5.0\" \"4.0\" \"5.0\" \"5.0\" \"4.0\"\n[22] \"4.0\" \"5.0\" \"4.0\" \"3.0\" \"3.0\" \"1.0\" \"1.0\" \"4.0\" \"1.0\" \"2.0\" \"4.0\" \"3.0\" \"1.0\" \"2.0\" \"3.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\"\n[43] \"2.0\" \"3.0\" \"2.0\" \"1.0\" \"3.0\" \"3.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\" \"5.0\"\n[64] \"5.0\" \"4.0\" \"5.0\" \"5.0\" \"5.0\" \"4.0\" \"5.0\" \"5.0\" \"4.0\" \"5.0\" \"5.0\" \"4.0\" \"5.0\"\n",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topical-average\") %>%",
        "+ ",
        "  html_element(\"div.numeric\") %>%",
        "+ ",
        "  html_text() %>%",
        "+ ",
        "  as.numeric() -> topic_rating",
        "> ",
        "topic_rating",
        " [1] 4.0 4.2 3.8 3.6 4.3 4.5 5.0 5.0 5.0 5.0 5.0 5.0 1.0 4.0 4.0 4.0 5.0 4.0 5.0 5.0 4.0 4.0 5.0 4.0 3.0 3.0 1.0 1.0 4.0 1.0 2.0 4.0\n[33] 3.0 1.0 2.0 3.0 5.0 5.0 5.0 5.0 5.0 5.0 2.0 3.0 2.0 1.0 3.0 3.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0\n[65] 4.0 5.0 5.0 5.0 4.0 5.0 5.0 4.0 5.0 5.0 4.0 5.0\n",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  my_topic <- \"Homework\"",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating[grep(\"Homework\", topic_rating_label)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "fn_extract_topic_rating(\"Homework\")",
        " [1]  4  5  1  5  3 NA  2  5  2  5  5 NA NA NA NA  5  5  4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating[grep(\"Homework\", topic_rating_label)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "hw_rating <- fn_extract_topic_rating(\"Homework\")",
        "> ",
        "hw_rating",
        " [1]  4  5  1  5  3 NA  2  5  2  5  5 NA NA NA NA  5  5  4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "library(RSelenium)",
        "> ",
        "library(rvest)",
        "> ",
        "",
        "> ",
        "#start RSelenium",
        "> ",
        "rD <- rsDriver(browser=\"firefox\", port=4545L, verbose=F)",
        "Error in wdman::selenium(port = port, verbose = verbose, version = version,  : \n  Selenium server signals port = 4545 is already in use.\n",
        "> ",
        "remDr <- rD[[\"client\"]]",
        "> ",
        "",
        "> ",
        "remDr$open()",
        "[1] \"Connecting to remote server\"\n$acceptInsecureCerts\n[1] FALSE\n\n$browserName\n[1] \"firefox\"\n\n$browserVersion\n[1] \"89.0.1\"\n\n$`moz:accessibilityChecks`\n[1] FALSE\n\n$`moz:buildID`\n[1] \"20210614221319\"\n\n$`moz:geckodriverVersion`\n[1] \"0.29.1\"\n\n$`moz:headless`\n[1] FALSE\n\n$`moz:processID`\n[1] 15972\n\n$`moz:profile`\n[1] \"C:\\\\Users\\\\emanlapig\\\\AppData\\\\Local\\\\Temp\\\\rust_mozprofile7AZ0Rt\"\n\n$`moz:shutdownTimeout`\n[1] 60000\n\n$`moz:useNonSpecCompliantPointerOrigin`\n[1] FALSE\n\n$`moz:webdriverClick`\n[1] TRUE\n\n$pageLoadStrategy\n",
        "[1] \"normal\"\n\n$platformName\n[1] \"windows\"\n\n$platformVersion\n[1] \"10.0\"\n\n$setWindowRect\n[1] TRUE\n\n$strictFileInteractability\n[1] FALSE\n\n$timeouts\n$timeouts$implicit\n[1] 0\n\n$timeouts$pageLoad\n[1] 300000\n\n$timeouts$script\n[1] 30000\n\n\n$unhandledPromptBehavior\n[1] \"dismiss and notify\"\n\n$webdriver.remote.sessionid\n[1] \"628c5e2d-97ea-4a63-a3c3-14a56f54ad95\"\n\n$id\n[1] \"628c5e2d-97ea-4a63-a3c3-14a56f54ad95\"\n\n",
        "> ",
        "remDr$setWindowSize(width = 1920/2, height = 1080)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "#navigate to your page",
        "> ",
        "remDr$navigate(\"https://www.greatschools.org/california/santa-barbara/11279-Crane-Country-Day-School/reviews/\")",
        "> ",
        "",
        "> ",
        "#scroll down waiting for the page to load at each time",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "while(length(remDr$findElements(\"link text\", \"More\") ) != 0){",
        "+ ",
        "  print(length(remDr$findElements(\"link text\", \"More\") ))",
        "+ ",
        "  remDr$findElements(\"link text\", \"More\")[[1]]$clickElement()",
        "+ ",
        "  remDr$executeScript(paste(\"scroll(0,\",i*1080,\");\"))",
        "+ ",
        "  Sys.sleep(1)",
        "+ ",
        "}",
        "[1] 4\n[1] 3\n[1] 2\n[1] 1\n[1] 6\n[1] 5\n[1] 4\n[1] 8\n[1] 7\n[1] 11\n[1] 10\n[1] 14\n[1] 18\n[1] 17\n[1] 16\n[1] 17\n[1] 16\n[1] 15\n[1] 14\n[1] 13\n[1] 12\n[1] 11\n[1] 10\n[1] 9\n[1] 8\n[1] 7\n[1] 6\n[1] 5\n[1] 4\n[1] 3\n[1] 2\n[1] 1\n",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "#get the page html",
        "> ",
        "webpage <- read_html(remDr$getPageSource()[[1]])",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  html_element(\"div.five-star-review\") %>%",
        "+ ",
        "  html_element(\"div.comment\") %>%",
        "+ ",
        "  html_text() -> overall_comment",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  html_element(\"div.answer\") %>% ",
        "+ ",
        "  as.character() %>% ",
        "+ ",
        "  str_count(\"filled-star\") -> overall_rating",
        "> ",
        "  ",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  html_element(\"div.user-type\") %>%",
        "+ ",
        "  html_text() -> review_type",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  html_element(\"div.type-and-date\") %>%",
        "+ ",
        "  html_text() %>%",
        "+ ",
        "  as.Date(\"%B %d, %Y\") -> review_date",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topic\"') -> num_topic_reviews",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topic\") %>%",
        "+ ",
        "  html_text() -> topic_labels",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-review-detail\") %>%",
        "+ ",
        "  html_element(\"div.comment\") %>%",
        "+ ",
        "  html_text() -> topic_comments",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "### Function to extract topic comments",
        "> ",
        "",
        "> ",
        "fn_extract_topic_comments <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index[topic_labels == my_topic]] <- topic_comments[which(topic_labels == my_topic)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "homework_comments <- fn_extract_topic_comments(\"Homework\")",
        "> ",
        "teacher_comments <- fn_extract_topic_comments(\"Teachers\")",
        "> ",
        "character_comments <- fn_extract_topic_comments(\"Character\")",
        "> ",
        "leadership_comments <- fn_extract_topic_comments(\"Leadership\")",
        "> ",
        "bullying_comments <- fn_extract_topic_comments(\"Bullying\")",
        "> ",
        "learning_diffs_comments <- fn_extract_topic_comments(\"Learning Differences\")",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topic-details\") %>%",
        "+ ",
        "  html_text() -> topic_rating_label",
        "> ",
        "",
        "> ",
        "topic_rating_label <- topic_rating_label[-grep(\"\\\\(\", topic_rating_label)]",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.topical-item\") %>%",
        "+ ",
        "  html_element(\"div.topical-average\") %>%",
        "+ ",
        "  html_element(\"div.numeric\") %>%",
        "+ ",
        "  html_text() %>%",
        "+ ",
        "  as.numeric() -> topic_rating",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topical-item\"') -> num_topic_ratings",
        "> ",
        "",
        "> ",
        "webpage %>%",
        "+ ",
        "  html_elements(\"div.user-reviews-container\") %>%",
        "+ ",
        "  as.character() %>%",
        "+ ",
        "  str_count('<div class=\"topical-item\"') -> num_topic_ratings",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "review_index_ratings <- rep(1:length(num_topic_reviews), times = num_topic_ratings)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "### Function to extract topic ratings",
        "> ",
        "",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[grep(\"Homework\", topic_rating_label)]] <- topic_rating[grep(\"Homework\", topic_rating_label)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "homework_rating <- fn_extract_topic_rating(\"Homework\")",
        "> ",
        "teacher_rating <- fn_extract_topic_rating(\"Teachers\")",
        "> ",
        "character_rating <- fn_extract_topic_rating(\"Character\")",
        "> ",
        "leadership_rating <- fn_extract_topic_rating(\"Leadership\")",
        "> ",
        "bullying_rating <- fn_extract_topic_rating(\"Bullying\")",
        "> ",
        "learning_diffs_rating <- fn_extract_topic_rating(\"Learning Differences\")",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "fn_extract_overall_review_element <- function(my_element_name){",
        "+ ",
        "  ",
        "+ ",
        "  all_elements <- sapply(l_school_reviews$reviews, ",
        "+ ",
        "                         function(l) l[[2]])[paste0(my_element_name),]",
        "+ ",
        "  my_element <- unlist(all_elements, use.names = FALSE)",
        "+ ",
        "  ",
        "+ ",
        "  return(my_element)",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "### Extract overall review elements",
        "> ",
        "",
        "> ",
        "fn_extract_overall_review_element(\"topic_label\")",
        "[1] \"Overall experience\" \"Overall experience\" \"Overall experience\" \"Overall experience\" \"Overall experience\"\n",
        "> ",
        "",
        "> ",
        "date_published <- as.Date(fn_extract_overall_review_element(\"date_published\"), \"%B %d, %Y\")",
        "> ",
        "",
        "> ",
        "school_id <- fn_extract_overall_review_element(\"school_id\")",
        "> ",
        "print(school_id)",
        "[1] 11279 11279 11279 11279 11279\n",
        "> ",
        "",
        "> ",
        "overall_exp_rating <- as.numeric(",
        "+ ",
        "  fn_extract_overall_review_element(\"answer_value\"))",
        "> ",
        "",
        "> ",
        "overall_exp_comments <- fn_extract_overall_review_element(\"comment\")",
        "> ",
        "learning_diffs_rating",
        " [1]  4  5  1  5  3 NA  2  5  2  5  5 NA NA NA NA  5  5  4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "bullying_rating",
        " [1]  4  5  1  5  3 NA  2  5  2  5  5 NA NA NA NA  5  5  4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "leadership_rating",
        " [1]  4  5  1  5  3 NA  2  5  2  5  5 NA NA NA NA  5  5  4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "character_rating",
        " [1]  4  5  1  5  3 NA  2  5  2  5  5 NA NA NA NA  5  5  4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA\n",
        "> ",
        "fn_extract_topic_rating <- function(my_topic){",
        "+ ",
        "  tmp <- rep(NA, times = length(review_date))",
        "+ ",
        "  tmp[review_index_ratings[grep(my_topic, topic_rating_label)]] <- topic_rating[grep(my_topic, topic_rating_label)]",
        "+ ",
        "  return(tmp)",
        "+ ",
        "}",
        "> ",
        "homework_rating <- fn_extract_topic_rating(\"Homework\")",
        "> ",
        "teacher_rating <- fn_extract_topic_rating(\"Teachers\")",
        "> ",
        "character_rating <- fn_extract_topic_rating(\"Character\")",
        "> ",
        "leadership_rating <- fn_extract_topic_rating(\"Leadership\")",
        "> ",
        "bullying_rating <- fn_extract_topic_rating(\"Bullying\")",
        "> ",
        "learning_diffs_rating <- fn_extract_topic_rating(\"Learning Differences\")",
        "> ",
        "learning_diffs_rating",
        " [1] 4.3 5.0 5.0 5.0 4.0  NA 2.0 5.0 3.0 5.0 5.0  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n",
        "> ",
        "bullying_rating",
        " [1] 4.5 5.0 4.0 4.0 1.0  NA 3.0 5.0 3.0 5.0 5.0  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n",
        "> ",
        "leadership_rating",
        " [1] 3.6 5.0 4.0 4.0 1.0  NA 1.0 5.0 1.0 5.0 5.0  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n",
        "> ",
        "character_rating",
        " [1] 3.8 5.0 4.0 4.0 1.0  NA 3.0 5.0 2.0 5.0 5.0  NA  NA  NA 5.0 5.0 4.0 5.0  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n\nRestarting R session...\n\n"
    ]
}